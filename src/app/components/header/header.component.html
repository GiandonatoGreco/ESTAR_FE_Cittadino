<it-header
  slimTitle="Regione Toscana"
  [light]="false"
  [showSearch]="false"
  [sticky]="false"
  [megamenu]="false"
  (loginClick)="(false)"
>
  <ul class="link-list" slimLinkList>
    <li class="link-item d-flex align-items-center notifications">
      <it-dropdown>
        <span button>
          <img
            class="slim-header-icon bell"
            src="../../../assets/img/icons/bell.svg"
          />
          <span
            *ngIf="notifications.length > 0"
            class="notification-badge"
          ></span>
          Notifiche
        </span>
        <ng-container list *ngIf="notifications.length === 0">
          <it-dropdown-item disabled="true">
            <p class="body">Non sono presenti notifiche</p>
          </it-dropdown-item>
        </ng-container>
        <ng-container list *ngIf="notifications.length > 0">
          <it-dropdown-item *ngFor="let item of notifications" disabled="true">
            <p class="date">{{ item.date }}</p>
            <p class="body">{{ item.text }}</p>
          </it-dropdown-item>
        </ng-container>
      </it-dropdown>
    </li>
    <li class="link-item d-flex align-items-center contacts">
      <it-dropdown>
        <span button>
          <img
            class="slim-header-icon bell"
            src="../../../assets/img/icons/info.svg"
          />
          Contatti
        </span>
        <ng-container list>
          <it-dropdown-item
            *ngFor="let item of contactItems"
            [href]="item.link"
            externalLink="true"
          >
            <app-icon [type]="item.icon"></app-icon>
            {{ item.text }}
          </it-dropdown-item>
        </ng-container>
      </it-dropdown>
    </li>
    <li class="link-item d-flex align-items-center profile">
      <it-dropdown>
        <span button>
          <div itAvatar size="sm" class="avatar">
            <p aria-hidden="true">GR</p>
            <span class="visually-hidden">Bottone dimensioni sm</span>
          </div>
          {{ name }}</span
        >
        <ng-container list>
          <it-dropdown-item [href]="['/', routes.profile.path]">
            Il tuo profilo
          </it-dropdown-item>
          <it-dropdown-item (click)="logout()" href="" class="last">
            <span class="link">
              Esci &nbsp;&nbsp; <app-icon type="logout"> </app-icon>
            </span>
          </it-dropdown-item>
        </ng-container>
      </it-dropdown>
    </li>
  </ul>
  <ng-container brand>
    <a href="#">
      <img
        class="it-brand-logo-img"
        aria-hidden="true"
        src="../../../assets/img/logo_regione_toscana.png"
      />
      <div class="it-brand-text">
        <div class="it-brand-title">Portale cambio medico</div>
      </div>
    </a>
  </ng-container>
  <ng-container navItems>
    <it-navbar-item *ngFor="let link of links"
      ><a
        [ngClass]="{ active: isActive(link.url), 'nav-link': true }"
        [routerLink]="link.url"
        routerLinkActive="router-link-active"
        aria-current="page"
        ><span>{{ link.label }}</span></a
      ></it-navbar-item
    >
  </ng-container>
</it-header>

<div class="header-sticky-wrapper navbar">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <nav
          class="navbar navbar-expand-lg"
          aria-label="Navigazione principale"
        >
          <div class="navbar-collapsable">
            <div class="menu-wrapper">
              <a class="brand-icon" href="#">
                <img
                  class="it-brand-logo-img"
                  aria-hidden="true"
                  src="../../../assets/img/logo_regione_toscana.png"
                />
                <div class="it-brand-text">
                  <div class="it-brand-title">Portale cambio medico</div>
                </div>
              </a>
              <ul class="navbar-nav">
                <li class="nav-item" *ngFor="let link of links">
                  <a
                    [ngClass]="{ active: isActive(link.url), 'nav-link': true }"
                    [routerLink]="link.url"
                    routerLinkActive="router-link-active"
                    aria-current="page"
                  >
                    <span>{{ link.label }}</span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>
</div>
